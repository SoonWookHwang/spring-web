<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/product}">

<body>
<section layout:fragment="content">
  <script src="/js/product/product.js"></script>
  <div class="container mt-4">
    <h2>상품 검색</h2>
    <p>여러 가지 검색 조건을 통해 데이터를 조회할 수 있습니다.</p>

  <div class="row g-3 search-area">
    <div class="col-md-2">
      <label for="searchType" class="form-label">검색 조건</label>
      <select id="searchType" name="searchType" class="form-select">
        <option value="name">상품명</option>
        <option value="category">카테고리</option>
        <option value="price">가격</option>
      </select>
    </div>
    <div class="col-md-3">
      <label for="jpaType" class="form-label">JPA 방식</label>
      <select name="jpaType" id="jpaType" class="form-select">
        <option value="method">메서드</option>
        <option value="spec">동적쿼리(Specification)</option>
        <option value="jpql">@Query(JPQL)</option>
      </select>
    </div>
    <div class="col-md-5">
      <label for="keyword" class="form-label">검색어</label>
      <input type="text" id="keyword" name="keyword" class="form-control" placeholder="검색어를 입력하세요">
    </div>
    <div class="col-md-2 align-items-end">
      <label for="search_btn" class="form-label"></label>
      <button id="search_btn" name="search_btn" type="button" onclick="search()" class="btn btn-primary w-100">검색</button>
    </div>
  </div>

  <!-- 검색 결과 리스트 -->
  <div class="mt-4">
    <h3>검색 결과</h3>
    <table class="table table-striped">
      <thead>
      <tr>
        <th>상품 번호</th>
        <th>상품명</th>
        <th>가격</th>
        <th>재고량</th>
        <th>카테고리</th>
      </tr>
      </thead>
      <tbody id="product_list">
      <tr th:each="product : ${productList}">
        <td th:text="${product.productId}"></td>
        <td th:text="${product.name}"></td>
        <td th:text="${product.price}"></td>
        <td th:text="${product.stock}"></td>
        <td th:text="${product.name}"></td>
      </tr>
      <tr th:if="${#lists.isEmpty(productList)}">
        <td colspan="5" class="text-center">검색 결과가 없습니다.</td>
      </tr>
      </tbody>
    </table>
    <!-- 페이징 버튼 -->
    <nav id="paginationContainer" class="mt-3">
      <ul class="pagination justify-content-center" id="pagination">
        <li class="page-item disabled">
          <a class="page-link" href="#">처음</a>
        </li>
        <li class="page-item disabled">
          <a class="page-link" href="#">이전</a>
        </li>
        <li class="page-item active">
          <a class="page-link" href="#" onclick="changePage(1)">1</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#" onclick="changePage(2)">2</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#" onclick="changePage(3)">3</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#" onclick="changePage(4)">4</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#" onclick="changePage(5)">5</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#" onclick="changePage(2)">다음</a>
        </li>
        <li class="page-item">
          <a class="page-link" href="#" onclick="changePage(5)">마지막</a>
        </li>
      </ul>
    </nav>

  </div>
  </div>

</section>

</body>
</html>